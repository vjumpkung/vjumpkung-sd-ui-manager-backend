(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[796],{1454:()=>{},1673:e=>{var t;self,e.exports=(()=>{"use strict";var e={};return Object.defineProperty(e,"__esModule",{value:!0}),e.FitAddon=void 0,e.FitAddon=class{activate(e){this._terminal=e}dispose(){}fit(){let e=this.proposeDimensions();if(!e||!this._terminal||isNaN(e.cols)||isNaN(e.rows))return;let t=this._terminal._core;this._terminal.rows===e.rows&&this._terminal.cols===e.cols||(t._renderService.clear(),this._terminal.resize(e.cols,e.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;let e=this._terminal._core,t=e._renderService.dimensions;if(0===t.css.cell.width||0===t.css.cell.height)return;let r=0===this._terminal.options.scrollback?0:e.viewport.scrollBarWidth,n=window.getComputedStyle(this._terminal.element.parentElement),l=parseInt(n.getPropertyValue("height")),i=Math.max(0,parseInt(n.getPropertyValue("width"))),s=window.getComputedStyle(this._terminal.element),a=l-(parseInt(s.getPropertyValue("padding-top"))+parseInt(s.getPropertyValue("padding-bottom")));return{cols:Math.max(2,Math.floor((i-(parseInt(s.getPropertyValue("padding-right"))+parseInt(s.getPropertyValue("padding-left")))-r)/t.css.cell.width)),rows:Math.max(1,Math.floor(a/t.css.cell.height))}}},e})()},5796:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(5289),l=r(93),i=r(1673),s=r(1734);r(1454);var a=r(3251);let o=()=>{let e=(0,l.useRef)(null),t=(0,l.useRef)(null),r=(0,l.useRef)(null),[o,c]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{(async()=>{if(e.current){t.current=new s.Terminal({fontSize:16,fontFamily:'Monaco, Menlo, "Ubuntu Mono", monospace',cursorBlink:!1}),r.current=new i.FitAddon,t.current.loadAddon(r.current),t.current.open(e.current),requestAnimationFrame(()=>{var e;null==(e=r.current)||e.fit()});try{(await a.A.get("/api/logs")).data.forEach(e=>{if(e.m.includes("\n"))e.m.split("\n").forEach(e=>{var r;null==(r=t.current)||r.writeln(e)});else{var r;null==(r=t.current)||r.writeln(e.m)}})}catch(e){console.error("Failed to fetch logs:",e)}}})().then(()=>{c(!0)}).catch(()=>{c(!1)});let n=()=>{r.current&&requestAnimationFrame(()=>{var e;null==(e=r.current)||e.fit()})},l=e=>{let{detail:r}=e;r.m.split("\n").map(e=>{var r;null==(r=t.current)||r.writeln(e)})};return window.addEventListener("resize",n),window.addEventListener("logs",l),()=>{var e;window.removeEventListener("resize",n),window.removeEventListener("logs",l),null==(e=t.current)||e.dispose()}},[]),(0,n.jsx)("div",{className:"bg-black p-2",children:(0,n.jsx)("div",{ref:e,className:""})})}}}]);